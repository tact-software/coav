# 変更履歴

このプロジェクトの注目すべき変更はすべてこのファイルに記録されます。

フォーマットは[Keep a Changelog](https://keepachangelog.com/ja/1.0.0/)に基づいており、
このプロジェクトは[セマンティックバージョニング](https://semver.org/lang/ja/)に準拠しています。

## [未リリース]

## [1.1.3] - 2026-01-13

### 追加

- **Windows対応**
  - Windows向けビルドをリリースワークフローに追加
  - MSI・NSISインストーラーのサポート

## [1.1.2] - 2025-12-29

### 修正

- miseでrust-toolchain.tomlを認識させてCI環境を修正
- macOS Intel ランナーを macos-15-large に更新

## [1.1.1] - 2025-12-20

### 追加

- **ネイティブメニューの多言語対応と機能整備**

### 変更

- CI/CD環境の改善とコード品質修正
- miseタスクベースのCI/CDワークフローを整備
- プロジェクト構成を整理し、mise統一
- App.tsx を分割してモジュール化
- utils/index.ts とeslint設定を整理
- コードベースを整理し重複を削除

### 修正

- ポリゴン描画のtensionとポイント間引きを削除して形状の正確性を確保
- カテゴリ色生成をHEX形式に変更してカラーピッカーとの互換性を確保
- アノテーション描画の不具合を修正

## [1.1.0] - 2025-06-20

### 追加

- **マルチ画像ナビゲーション機能**
  - **NavigationPanel**: フォルダ内の画像間を簡単に移動できる新しいパネル
  - **画像リスト表示**: 画像一覧とステータス表示
  - **IDジャンプ機能**: 画像IDを直接入力して特定の画像へ移動
  - **スマートナビゲーション**: 存在しない画像を自動的にスキップ
  - **ビュー状態保持**: 画像切り替え時もズーム・パン状態を維持
  - **比較モード対応**: 比較中でも画像間を移動でき、ペアアノテーションが動的に更新
  - **キーボードショートカット**: 矢印キーで前後の画像へ移動
- **アノテーション統計分析機能**
  - **ヒストグラム分析**: 5つの分布タイプ（幅、高さ、面積、ポリゴン面積、アスペクト比）
  - **ヒートマップ分析**: 4つの2次元分布（幅×高さ、中心座標、面積×アスペクト比等）
  - **詳細統計情報**: 平均、中央値、標準偏差、歪度、尖度、四分位数等の表示
  - **ポリゴン面積計算**: Shoelace公式による正確なセグメンテーション面積算出
  - **データエクスポート**: 統計データのクリップボードコピー機能
  - **メニュー統合**: ヒストグラム（Ctrl/Cmd+Shift+H）、ヒートマップ（Ctrl/Cmd+Shift+M）のショートカット
- **共通モーダルコンポーネント**
  - 統一されたモーダルデザインとブラー背景効果
  - レスポンシブサイズ対応（sm, md, lg, xl）
  - アクセシビリティ対応（ESCキー、オーバーレイクリック）
- **比較モード機能**
  - 2つのCOCOデータセット（正解データと予測結果）の視覚的比較
  - TP（真陽性）、FP（偽陽性）、FN（偽陰性）の色分け表示
  - IoU閾値ベースのマッチングアルゴリズム
  - カテゴリマッピング機能（異なるカテゴリ体系間での対応付け）
  - バウンディングボックスIoUとポリゴンIoU（近似）の2つの計算方法
  - 複数マッチング対応（1対多のマッチング設定）
- **評価指標の表示**
  - Precision、Recall、F1スコアの算出と表示
  - 統計ダイアログでの比較結果表示
  - アノテーション詳細パネルでのマッチング情報表示
- **サンプルデータ生成の拡張**
  - ペアJSON生成オプション（比較テスト用）
  - マッチング分布の詳細設定
- **ローディングオーバーレイ**
  - 長時間処理のための全画面ローディング表示
- **免責事項の追加**
  - 統計情報が参考値である旨と開発者責任制限をREADMEに明記

### 変更

- ズームボタンがビューポート中心を基準にズームするよう改善
- 統計ダイアログで単一画像データセットのビューモードを自動調整
- 比較モードでのデータ管理を改善し、元データを保持する仕組みを追加
- パネル設定のUIを更新し、NavigationPanelを独立したタブに配置

### 修正

- カテゴリマッピング後の無限ループ問題を修正
- 単一画像データセットで比較結果が表示されない問題を修正
- 異なる画像IDを持つデータセット間の比較を可能に
- NavigationPanelの初期化時のReferenceErrorを修正
- 画像切り替え時のズーム・パン状態リセット問題を修正
- 比較設定変更時のアノテーションデータ損失を修正
- タブ切り替え時の不要な画像IDリセットを防止

### 削除

## [1.0.0] - 2025-05-27

### 追加

- 🎉 初回リリース
- **コア機能**
  - COCO形式のJSONファイル読み込み
  - 画像とアノテーションの表示
  - バウンディングボックスの描画
  - セグメンテーション（ポリゴン）の描画
  - 複数画像を持つアノテーションのサポート
- **UI/UX機能**
  - ズーム・パン機能
  - アノテーションの選択とハイライト
  - カテゴリ別のフィルタリング
  - ID・カテゴリ名での検索機能
  - 詳細情報パネル
  - 統計情報の表示
  - ダーク/ライトテーマ切替
- **カスタマイズ機能**
  - カテゴリ別カラーパレット設定
  - 塗りつぶし・線の透明度調整
  - ラベル表示のON/OFF
  - バウンディングボックス表示のON/OFF
- **その他の機能**
  - ドラッグ&ドロップ対応
  - 最近使用したファイルの履歴
  - 多言語対応（日本語・英語）
  - キーボードショートカット
  - レスポンシブデザイン

### 技術仕様

- Tauri 2.0を使用したデスクトップアプリケーション
- React 18 + TypeScript
- Konva.jsによる高速Canvas描画
- Zustandによる状態管理
- クロスプラットフォーム対応（Windows、macOS、Linux）

[未リリース]: https://github.com/tact-software/coav/compare/v1.1.3...HEAD
[1.1.3]: https://github.com/tact-software/coav/compare/v1.1.2...v1.1.3
[1.1.2]: https://github.com/tact-software/coav/compare/v1.1.1...v1.1.2
[1.1.1]: https://github.com/tact-software/coav/compare/v1.1.0...v1.1.1
[1.1.0]: https://github.com/tact-software/coav/compare/v1.0.0...v1.1.0
[1.0.0]: https://github.com/tact-software/coav/releases/tag/v1.0.0
