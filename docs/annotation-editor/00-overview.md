# アノテーションエディタ機能 設計書

## 概要

COAVにアノテーション編集機能を追加し、COCO形式のアノテーションを作成・編集できるようにする。

## 目的

- 既存のビューア機能を活かしつつ、アノテーション作成機能を追加
- プロジェクト単位でのアノテーション管理を実現
- 効率的なアノテーション作業ワークフローを提供

## 機能要件

### 対応アノテーション種別

| 種別 | 説明 |
|------|------|
| バウンディングボックス | 矩形領域の指定 |
| ポリゴン | 任意形状の多角形 |

### 編集機能

- 選択（単一・複数）
- 移動
- リサイズ
- 頂点編集（ポリゴン）
- 削除
- コピー＆ペースト
- Undo/Redo（20世代）

### プロジェクト管理

- プロジェクトの作成・保存・読込
- カテゴリ定義と管理
- メタデータ設定
- 画像フォルダとの関連付け

### 保存機能

- COCO JSON形式でのエクスポート
- 自動保存
- プロジェクトファイルの保存

## 非機能要件

### パフォーマンス

- 大量アノテーション（1000件以上）でもスムーズな描画
- 既存のビューポートカリング機能を活用

### ユーザビリティ

- キーボードショートカット対応
- 直感的なツール切り替え
- リアルタイムプレビュー

### データ互換性

- 標準COCO形式との完全互換
- 既存アノテーションファイルの読み込み・編集対応

## 設計資料一覧

| ドキュメント | 内容 |
|--------------|------|
| [01-project-management.md](./01-project-management.md) | プロジェクト管理機能 |
| [02-annotation-editing.md](./02-annotation-editing.md) | アノテーション編集機能 |
| [03-ui-design.md](./03-ui-design.md) | UI/UX設計 |
| [04-data-model.md](./04-data-model.md) | データモデル設計 |
| [05-state-management.md](./05-state-management.md) | 状態管理設計 |
| [06-backend-api.md](./06-backend-api.md) | バックエンドAPI設計 |
| [07-implementation-plan.md](./07-implementation-plan.md) | 実装計画 |

## 用語定義

| 用語 | 説明 |
|------|------|
| プロジェクト | アノテーション作業の単位。カテゴリ定義、画像フォルダ、アノテーションデータを含む |
| カテゴリ | アノテーションの分類。ID、名前、色、ショートカットキーを持つ |
| アノテーション | 画像上の領域とそのカテゴリを示すデータ |
| BBox | バウンディングボックスの略。矩形アノテーション |
| ポリゴン | 多角形アノテーション |
